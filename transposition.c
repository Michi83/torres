#include <stdint.h>
#include <stdlib.h>
#include <string.h>
#include "torres.h"

void add_transposition(Position* position, int depth, int score,
    Move* best_move)
{
    uint64_t hash = calculate_hash(position);
    uint64_t index = hash % TRANSPOSITION_TABLE_SIZE;
    Transposition* transposition = transposition_table + index;
    if (best_move != NULL)
    {
        transposition->best_move = *best_move;
    }
    else
    {
        memset(&transposition->best_move, 0, sizeof (Move));
    }
    transposition->depth = depth;
    transposition->hash = hash;
    transposition->score = score;
}

uint64_t black_bishop_keys[64] =
{
    0x2DFBCB8C170EB52B, 0x6D48CF873830D6B6,
    0x64A1C464576FC41B, 0x11F6986131723BF5,
    0x0D3BE41C369956AB, 0x7BDD66904CDA15E7,
    0x6F3E54900DFB5C5B, 0x66BBB7E51464BE1E,
    0x32A5C7A828168302, 0x4423C7773A541011,
    0x7C2A56CD5F5C6E4D, 0x0B54E53B7AB86EE1,
    0x06CB1B6002A00487, 0x7323808A72EDD574,
    0x35A681DB05157276, 0x1C2427A11786C974,
    0x4FB7A02A63A24D68, 0x3B121183096CF728,
    0x3ADF331D3459648F, 0x6AF2BB3A4D08A9E4,
    0x19E2BFCC481B1739, 0x5616739466D021CA,
    0x7B34DFE80921145C, 0x3137975E3CD22B79,
    0x77263B8A2DDAA791, 0x0D3715DE755B5ED6,
    0x7013CDB773509257, 0x75F096DF188BFB19,
    0x0B79D08D76DEE918, 0x7BF45B8E69141769,
    0x009AE0DD41205269, 0x24C29FD11818832F,
    0x21857A5750528108, 0x04ABE5975FD4B154,
    0x2CDD5B395C64AD75, 0x247FC4AE6F9EA0D1,
    0x566EC29B46C01B05, 0x4FE12F617A963843,
    0x376863BC51A3A284, 0x7F7E4A150118C6C0,
    0x767425962E8E9F47, 0x21DF319E0CB55FF3,
    0x25415B0C6687F34D, 0x5D66DC6517CFC87D,
    0x00E3DFE630BB2B99, 0x71DB7E02595B37F3,
    0x7173BB22017EC0C4, 0x51D141CC169E1DD3,
    0x7672CF2812F9357A, 0x6F5DE2EF567D2763,
    0x461BC83423502A61, 0x6A10456613DDA79D,
    0x0E73DFE01C8A8ACF, 0x6E2E2D5339F174C7,
    0x3B0A3B8745DC439D, 0x746AE2E46DAC7768,
    0x7A61D75B317E611D, 0x1806546B164A1482,
    0x2E19DD001FA33267, 0x505E5E01756D30D0,
    0x4EC868C42EFDBCE6, 0x307C7DAA4239DC03,
    0x58D7F9D7403C23E6, 0x53355960024DBF76
};

uint64_t black_king_keys[64] =
{
    0x2E1296582C06DCF3, 0x030DF306059F0446,
    0x3E5E582B00A65647, 0x5AA8580E257D4626,
    0x40F2CBD268FA8D0D, 0x0A045AB23BD615EB,
    0x3DE8306C1872261F, 0x058DF53B7631573A,
    0x1F5784540ACDFAC0, 0x4E3D26AB5B0DAD2A,
    0x7B14914E0BE2C8BA, 0x154291F66F0939F8,
    0x60EE9C163CEBD7C7, 0x00E4B9736385489E,
    0x5E4462084A0FFA11, 0x7616D7045F3272DB,
    0x64D177220C56F860, 0x0CFD4EA77924CA0A,
    0x1EA21031232FCF4D, 0x0C2A5C5B67A5A6B5,
    0x237BBCA05F94DC03, 0x78070222162EB70D,
    0x0C600E476163ED0D, 0x6C31E7CD7D94F75D,
    0x58A2A4872BB7929B, 0x379A5B563A6F0E78,
    0x2978487053B735D5, 0x10A30D9C4CDCED4C,
    0x306235EA0A66E486, 0x5476DE981187C70F,
    0x70BA39EB0EA697F2, 0x1AFD90534A8DB59C,
    0x43B27FA7558BB10D, 0x78BB805A27FADEFA,
    0x0FA085B062548FD8, 0x41E96BDB04E5DCB5,
    0x1B1493C2331C4250, 0x14802F5D39F06DFD,
    0x3785655A2774A209, 0x532C34A500B2172A,
    0x3B2125A3102809E2, 0x63DF3FB70AC68FFB,
    0x57A37D4764996E13, 0x6F00529A74824D54,
    0x060A14630805B331, 0x16AC4B2343773132,
    0x0E04E6CE76C44E4E, 0x4C4FFF5B31A9DB76,
    0x59A4BA7151B76675, 0x340BF64D450B7FB6,
    0x49F15C6B69454021, 0x1C61827175F56228,
    0x2FE5D0256505F02E, 0x0C7A923730E1B1CF,
    0x3193C8F9676B3580, 0x77933F625FA6C6DC,
    0x6A6D56D76CB4EE9C, 0x514E5CB05B727F19,
    0x4FF4CC6D4210D41E, 0x4A16874F404EAF4A,
    0x03C5E07C55FEE0D1, 0x4CC32F1F60C2D273,
    0x126CADE911CAC74A, 0x63822DC019132E7B
};

uint64_t black_knight_keys[64] =
{
    0x58CAE6D94F4AC8FF, 0x729AF36042933C4F,
    0x5670E3ED1EE6AF0D, 0x3B7139DD5CAB38C6,
    0x169CAD8D64E4C3CD, 0x2AC1076A299F6730,
    0x174BDE9951A6E915, 0x03254A321F2BEA4E,
    0x3575FED111ADB5F4, 0x3150E85C1B2B9E9D,
    0x1098CF6E638FDBD1, 0x128D98B701AF465D,
    0x43E922605F613832, 0x1F9D5C18430A1662,
    0x4557D5D81CC11C37, 0x6C0BE53672D2B579,
    0x3565F1C81E22BCB2, 0x3D096BBF5EA6D896,
    0x3B52115C0BD6D5B5, 0x70BB9983787AA59C,
    0x221A0CCD51EEBEEA, 0x2395A7FF1B7CA0ED,
    0x3AA88B3C3965EB66, 0x4B13A15A26BAF231,
    0x41E690CF701E8A0D, 0x53AE65DE7C6489B6,
    0x7E13D013527F603D, 0x31E0986F663BFE95,
    0x294614F741FCF274, 0x5EBE0EAB517DF487,
    0x4450AA006E9DEAD0, 0x0CC0A7824AC9F3E2,
    0x2970CC7879B69BC9, 0x058D717E49CA1341,
    0x4244B8DE64C2DDD5, 0x36B19CBF76490B01,
    0x11C5ABEF645EC5AB, 0x1DC4B1115A4744BE,
    0x010236EF4C6E372B, 0x3C8CC13868D8526B,
    0x653CDC2242E8C7BE, 0x156827FB103B2716,
    0x767725AB6350AC35, 0x254D9EA94748C06A,
    0x18C6B4F21FBD3AA3, 0x0E5B2573040BAD55,
    0x4ED5A1375D175EF2, 0x56CDFABB1B1BCCF5,
    0x64E5E03678466DAF, 0x5D094B845C5B6C3A,
    0x52A4773B272A9914, 0x0B895EBF13BAE843,
    0x6E022D01646A232A, 0x30D85A55294E0FD0,
    0x1226623C6F0463F1, 0x31ED2BAF6D651B8D,
    0x7DA042A377633E5E, 0x5AB3EA93475553AB,
    0x0E9E14157417684F, 0x13D4A2F20001893D,
    0x040D36922764C907, 0x047C27FA222FC865,
    0x3D4B955A52E2D7C9, 0x4B2945785B4A22B5
};

uint64_t black_pawn_keys[64] =
{
    0x20A0C5E26FC1A0D4, 0x3330B1EE5BD772BB,
    0x5A7ED215533A7CFD, 0x0B726EDC777250E7,
    0x41A8106C365EFC5A, 0x382EA8743FB97188,
    0x78B6E49621856507, 0x25670D6B0B1595B1,
    0x3CAE14FE5FE6C53F, 0x66FE77656E27B56B,
    0x514FBE5A41123F79, 0x45BECE3C4C68ED90,
    0x7690CBA11660D468, 0x190764307CBC5FD3,
    0x44D209392B85F5C4, 0x1B4796981276A960,
    0x6E4E1C1B6572CF1B, 0x38AD4C184E784887,
    0x45EA996E48CCEE31, 0x7F2BEA8B441FBAF4,
    0x03D92C7D0792A9DB, 0x29180EE2375A92FF,
    0x427028B07C901113, 0x5C76D6524E7F1C4D,
    0x3CA6D1B97F1E3DAE, 0x40307D2743754DB7,
    0x0FDE3B470DF69013, 0x2457647B05EF4B64,
    0x02ABAB37066F06E9, 0x31F4FCAD3D5EC8AB,
    0x4FD5720B477DB470, 0x2CF0838B4D3C9346,
    0x1BB4DBCD3E238E27, 0x06F07C58659DCFA3,
    0x29BD8A97619F753B, 0x69321F16061C66E3,
    0x3D76F9E22D96B714, 0x2A26C828124A2DF8,
    0x60C94A467FE72292, 0x7F056040069D9E7A,
    0x4A12EC321D701BFF, 0x2B66AC123F35DD67,
    0x452528CB59F12779, 0x60602E624FBE108E,
    0x0D1CD93947D0D402, 0x0F4E887212552B10,
    0x5F91BE565CF24B45, 0x1B15D96C3C3F0BFD,
    0x21DCDBA07B469A23, 0x5CE60F5E220655C4,
    0x2822BCA74B9A6638, 0x79311D4C46182E75,
    0x58625C6D6599B689, 0x6580D91B2357E574,
    0x29F583EF392BA6B3, 0x569BC2B26486395B,
    0x23BC16C274087021, 0x4DF9979A02026EC5,
    0x51C07F5368E13F8E, 0x30B213902E59C5FD,
    0x40AEF10D5EDD588C, 0x3BCFA3D140009C03,
    0x7C3FA8002040AF63, 0x1B87498656E57D3D
};

uint64_t black_queen_keys[64] =
{
    0x5E1EAE316C11685A, 0x5556A87B178E240D,
    0x0D83863628100A9C, 0x0D15FACA71B82AED,
    0x2299DCBC3D69565B, 0x24D48BDB19908D02,
    0x793753DE542DA5B5, 0x40E294521C67CB3D,
    0x77DA4A5763A4AAB6, 0x25B57ED41230F102,
    0x527FA04C47CF16C4, 0x1DCDF7956FCC0624,
    0x508ED897564580C8, 0x681048126A9126B5,
    0x03A4553062FB8680, 0x4F0CEEDB4B9275D2,
    0x632099E061C30361, 0x09D30DFD24639756,
    0x161BC24370A42016, 0x2E0D767116E908C8,
    0x307995CA38B59EFF, 0x0CE344B552E2024D,
    0x6F49CD8A29B0E9A8, 0x0D55945E4DC5D907,
    0x5FF6CA09672417E1, 0x2EF32EA6330B1333,
    0x22D7195732766A55, 0x08BBEB1D4CC1263B,
    0x37524CF07365F1EE, 0x5661786E70CC332F,
    0x3C5EA9023AF6A220, 0x1CB9A581256E6749,
    0x49D1FEA01F7F42E2, 0x102362F8268CB37F,
    0x3D75BC475FEDC0E3, 0x18A35FE33E30D969,
    0x1112DBB66DEF5211, 0x17A03BB92586A498,
    0x734C7D9F005CA941, 0x6780C12224F5D018,
    0x5800E34B534347A8, 0x05B9B1FD1673EFC8,
    0x633516047AD7FCA2, 0x6E3DEE900E759D1A,
    0x7F41D0491A8762F4, 0x557E0515449F66FE,
    0x6A0DCE483BA0794B, 0x5B1FBC2D7237AA96,
    0x18C45E1533DFCCE8, 0x13CD8DCB6B431F25,
    0x2973F88F563A1A5C, 0x44296C6D2C70EDAE,
    0x51F792463A86D445, 0x3AE37D865BC9A827,
    0x00BF783F45440FE5, 0x1887578D22643EA9,
    0x38D82E7158C05B8A, 0x5398582C1E41098A,
    0x2CB6A6A41C0D4475, 0x3694A76A41D646BC,
    0x0675ADBA2BF876EE, 0x6798F0390C12AC7F,
    0x7E4A571570837C02, 0x246348EA42B8AC67
};

uint64_t black_rook_keys[64] =
{
    0x37A58EEF22317590, 0x495C0EA5283290FD,
    0x3BED79400A4A062B, 0x6EB4295554E56D64,
    0x7E337D3529EFA642, 0x18F40A331F8C83AB,
    0x0CF19F381059DF71, 0x07BD1DCF4AE135E2,
    0x1236898D0A91E1DC, 0x7EA94A2B62710862,
    0x6272919F20D49DA3, 0x483966AA127DED1D,
    0x34ADB582667FC831, 0x39629FFA4CB58EA4,
    0x27FFB15A71F94ADC, 0x142AC06C048BE573,
    0x2CBE76705FA54049, 0x69EF46745D86CF11,
    0x326C3C7668ABEFB0, 0x129B95F258A36FCA,
    0x782FF375309FB9AB, 0x40F9991C2B8FA025,
    0x7670D608052192AD, 0x0FB3748948B6B6EB,
    0x2B27BF4D08A75F95, 0x297BFD380E5CBEB4,
    0x20DAABD10D9A50ED, 0x741A191E71B563E3,
    0x3E6AF28755886153, 0x4781AC2F2D7CB919,
    0x32089E8C666AA3E1, 0x460FE42B5BAC6C9C,
    0x39333BAD5EC714FC, 0x477304AC2FFF2A9F,
    0x08A29A696B9F7823, 0x1C3F31CE5A0E9A9F,
    0x059E3AC400D28DDE, 0x05F4208C5D38CAEA,
    0x25EF81D57C0F10CC, 0x04B6706215A79515,
    0x240453CA51174123, 0x5EB192102E326D9A,
    0x1FE7D17D44DEFF9B, 0x1A6760EF52CBAB2E,
    0x004864475E52C405, 0x44BD67E661E90D1E,
    0x3D9579BA325102D3, 0x111817CF0ACD4C11,
    0x3ACC76B176C8B568, 0x62682D8B588B1C7C,
    0x3299B71B436F111A, 0x44419EF97EA75F5A,
    0x5BE02A443837F1DF, 0x344702AC4A35BF85,
    0x5FDD549A01CFAC1A, 0x52E6ED3D38FD730E,
    0x672FE0A803E1A864, 0x48C0A80031987F4D,
    0x04642A7B0717B226, 0x656A762B632808EF,
    0x4511160D04AC8EC3, 0x36FD91962A27DE11,
    0x34F52A2302A68FC8, 0x796F45304815A966
};

uint64_t calculate_hash(Position* position)
{
    uint64_t hash = 0;
    for (int i = 0; i < 64; i++)
    {
        int square = long_index[i];
        switch (position->board[square])
        {
        case WHITE_KING:
            hash ^= white_king_keys[i];
            break;
        case WHITE_QUEEN:
            hash ^= white_queen_keys[i];
            break;
        case WHITE_BISHOP:
            hash ^= white_bishop_keys[i];
            break;
        case WHITE_KNIGHT:
            hash ^= white_knight_keys[i];
            break;
        case WHITE_ROOK:
            hash ^= white_rook_keys[i];
            break;
        case WHITE_PAWN:
            hash ^= white_pawn_keys[i];
            break;
        case BLACK_KING:
            hash ^= black_king_keys[i];
            break;
        case BLACK_QUEEN:
            hash ^= black_queen_keys[i];
            break;
        case BLACK_BISHOP:
            hash ^= black_bishop_keys[i];
            break;
        case BLACK_KNIGHT:
            hash ^= black_knight_keys[i];
            break;
        case BLACK_ROOK:
            hash ^= black_rook_keys[i];
            break;
        case BLACK_PAWN:
            hash ^= black_pawn_keys[i];
        }
    }
    if (position->player == WHITE)
    {
        hash ^= player_key;
    }
    for (int i = 0; i < 4; i++)
    {
        if (position->castling[i])
        {
            hash ^= castling_keys[i];
        }
    }
    switch (position->en_passant)
    {
    case 71:
        hash ^= en_passant_keys[0];
        break;
    case 72:
        hash ^= en_passant_keys[1];
        break;
    case 73:
        hash ^= en_passant_keys[2];
        break;
    case 74:
        hash ^= en_passant_keys[3];
        break;
    case 75:
        hash ^= en_passant_keys[4];
        break;
    case 76:
        hash ^= en_passant_keys[5];
        break;
    case 77:
        hash ^= en_passant_keys[6];
        break;
    case 78:
        hash ^= en_passant_keys[7];
        break;
    case 41:
        hash ^= en_passant_keys[8];
        break;
    case 42:
        hash ^= en_passant_keys[9];
        break;
    case 43:
        hash ^= en_passant_keys[10];
        break;
    case 44:
        hash ^= en_passant_keys[11];
        break;
    case 45:
        hash ^= en_passant_keys[12];
        break;
    case 46:
        hash ^= en_passant_keys[13];
        break;
    case 47:
        hash ^= en_passant_keys[14];
        break;
    case 48:
        hash ^= en_passant_keys[15];
    }
    return hash;
}

uint64_t castling_keys[4] =
{
    0x69B6E9D9786D58E4,
    0x3E858759210E8FA8,
    0x06A8463162E80725,
    0x063FEC9A16E7E3C7
};

uint64_t en_passant_keys[16] =
{
    0x50138A7A6C291F4C, 0x50AF58A730357089,
    0x243DE0AA26AF4D2D, 0x28B1BBF2746B6F6A,
    0x5D4CAEF872377844, 0x20913E417A723B45,
    0x594F93D10DFEC288, 0x4DFF5E8B61402F4E,
    0x0180DEB1151F37A3, 0x6C04B4E04A3F068C,
    0x685B8A2D1D082837, 0x1575811C64F087E2,
    0x05FF178A52127406, 0x34FA7B2B53FB0875,
    0x6AE2EC3C0CA75DBC, 0x78D07D083B3A67C5
};

Transposition* get_transposition(Position* position, int min_depth)
{
    uint64_t hash = calculate_hash(position);
    uint64_t index = hash % TRANSPOSITION_TABLE_SIZE;
    Transposition* transposition = transposition_table + index;
    if (transposition->hash == hash && transposition->depth >= min_depth)
    {
        return transposition;
    }
    else
    {
        return NULL;
    }
}

uint64_t player_key = 0x78EBD3011E1C83A1;

Transposition transposition_table[TRANSPOSITION_TABLE_SIZE];

uint64_t white_bishop_keys[64] =
{
    0x2A082C705D888A08, 0x19E21BB25EC6AFD4,
    0x57A61A2975E0858A, 0x20EE13485399C654,
    0x0B37E80A4427069A, 0x704E1DD52157F6BC,
    0x0BFFAE1857D2F10E, 0x2E48F0440E3E47A8,
    0x4BEE5A5B49D0FEAC, 0x24F6AB8E5551B9F3,
    0x24E99DD7634C574C, 0x1849C29B2A31B62D,
    0x007543427DFF9D09, 0x2A6DE80669E7F3E5,
    0x37DF22331816F8C4, 0x759F82CD7AB49DAF,
    0x597B4D8461E74EA3, 0x57C7D42D0F819E7F,
    0x631B64D4312167AD, 0x75486E4778B5E776,
    0x1A0DDE326E534CDE, 0x46263DEC65968C1C,
    0x73D4D3C4260D8C4A, 0x6FDE8AF6746F2E30,
    0x49C0E8233FC32E20, 0x230F856C14D53685,
    0x3F06ECB26EAA85FB, 0x6CAA23043B594807,
    0x25413BEC3F7C2FF4, 0x579328B917180B0B,
    0x11CCA8BA5D205E20, 0x3F07ACC34D32AB86,
    0x5CB44A056B47F63E, 0x1C695DEC16CF80F1,
    0x0F8568673FCFAED9, 0x2E22FBB711B1CC33,
    0x7748585029934699, 0x4FA0D2E3744939A3,
    0x68B867D36B1D2C14, 0x2AE05A343F7F5DD9,
    0x5454945E32794FF7, 0x2123D5F24DEFDFA0,
    0x094927A8135B8110, 0x52D7B1050DCDF8F6,
    0x24E604012E8A6394, 0x0BAAC1B42A6AD9BE,
    0x779D854436B2ACBC, 0x21FAA2FA4AB26E78,
    0x6181EF695451CF49, 0x14217E233E6400E6,
    0x5015CD1A710757D0, 0x1A9A9E69424479DA,
    0x368DB37E475E256A, 0x327B517E6A3B714C,
    0x29BACF251F461B51, 0x51BF6B485D5BABB3,
    0x2B4B8B537E0F6384, 0x116AE49472E3413A,
    0x00B13A313494B2FB, 0x631F169064429599,
    0x0EAD6F5725973E32, 0x5C49EAEE6EC9D844,
    0x397C46BC064AF49B, 0x5A9CC3E57E448DE9
};

uint64_t white_king_keys[64] =
{
    0x327B23C66B8B4567, 0x66334873643C9869,
    0x19495CFF74B0DC51, 0x625558EC2AE8944A,
    0x46E87CCD238E1F29, 0x507ED7AB3D1B58BA,
    0x41B71EFB2EB141F2, 0x7545E14679E2A9E3,
    0x5BD062C2515F007C, 0x4DB127F812200854,
    0x1F16E9E80216231B, 0x66EF438D1190CDE7,
    0x3352255A140E0F76, 0x0DED7263109CF92E,
    0x1BEFD79F7FDCC233, 0x6B68079A41A7C4C9,
    0x25E45D324E6AFB66, 0x431BD7B7519B500D,
    0x7C83E4583F2DBA31, 0x62BBD95A257130A3,
    0x628C895D436C6125, 0x721DA317333AB105,
    0x2D1D5AE92443A858, 0x75A2A8D46763845E,
    0x79838CB208EDBDAB, 0x0B03E0C64353D0CD,
    0x54E49EB4189A769B, 0x2CA8861171F32454,
    0x02901D820836C40E, 0x081386413A95F874,
    0x7C3DBD3D1E7FF521, 0x6CEAF087737B8DDC,
    0x4516DDE922221A70, 0x614FD4A13006C83E,
    0x5577F8E1419AC241, 0x05072367440BADFC,
    0x77465F013804823E, 0x5C482A977724C67E,
    0x5E884ADC2463B9EA, 0x2D51779651EAD36B,
    0x153EA438580BD78F, 0x70A64E2A3855585C,
    0x2A487CB06A2342EC, 0x725A06FB1D4ED43B,
    0x57E4CCAF2CD89A32, 0x4B588F547A6D8D3C,
    0x6DE91B18542289EC, 0x7644A45C38437FDB,
    0x684A481A32FFF902, 0x749ABB43579478FE,
    0x1BA026FA3DC240FB, 0x75C6C33A79A1DEAA,
    0x70C6A52912E685FB, 0x374A3FE6520EEDD1,
    0x23F9C13C4F4EF005, 0x275AC794649BB77C,
    0x1CF10FD839386575, 0x235BA861180115BE,
    0x354FE9F947398C89, 0x741226BB15B5AF5C,
    0x10233C990D34B6A8, 0x615740953F6AB60F,
    0x77AE35EB7E0C57B1, 0x310C50B3579BE4F1
};

uint64_t white_knight_keys[64] =
{
    0x3CA88ECF1AFE3625, 0x0C058DF56EBE4208,
    0x3102BBE20CBE5BE9, 0x541C815326A02C5E,
    0x10DB9DAA67906F60, 0x06D68AB20697D2D2,
    0x63F37E853A966CD0, 0x38A5D0545895F5FA,
    0x4B7937350F3F09D8, 0x43D3BCD44A10B4E8,
    0x2E534A824C2A7166, 0x71C1AF9826F2D364,
    0x15BCABA83D00B9D9, 0x434BAE754E0B9A87,
    0x4C5028704F38F265, 0x6A37288A1DE8725A,
    0x0CA6B46208F8B73F, 0x15B71329763CB680,
    0x1CDCE2DE3DA97044, 0x2539DFA569D3947C,
    0x706B674E2DB88089, 0x684EED592C106A57,
    0x04A66051545EE5D3, 0x639DEFAC20F4BDAD,
    0x6B057295501F9786, 0x1C4A08EC2771AC80,
    0x4E647FE41958BD17, 0x565976F10E0BB885,
    0x5C17530C64212B8C, 0x335A1DF119A52566,
    0x378D97C028677B7C, 0x316032BB1D91467C,
    0x13CDFCFC44344C22, 0x01DDBC66471745E4,
    0x30EADA6130AADFDA, 0x5E63606327179C0B,
    0x53280662215641AF, 0x75B5278346B24DBC,
    0x67A70B6957CE66B4, 0x27EDFE3A5953172F,
    0x00C4C3AF52AC7DFF, 0x6C053B1644380727,
    0x5243BFAC4F294393, 0x334A6F1F425EB207,
    0x5C03D76D2E5B12B8, 0x56C28E3466A48D11,
    0x0435D38D13916F2D, 0x57C5BB4F0822C0EF,
    0x4F3A06D41803D089, 0x48AEB06359A377B6,
    0x00BB13C10024E135, 0x217B22E4271210C7,
    0x6DC45E8353E31A24, 0x2BB180D817304A67,
    0x70836196556B69ED, 0x2817E7EC539F7F12,
    0x17D7863971482545, 0x407168D8141D2302,
    0x567BD50A6A1B45E5, 0x1876589D73BBD7F8,
    0x5A606509327FAC77, 0x46111BA56F38E6D1,
    0x775BA7C15E963896, 0x769A091F1DD6D6F4
};

uint64_t white_pawn_keys[64] =
{
    0x257D63F413E21002, 0x2EDA00ED70EC11B2,
    0x5FB2981673209072, 0x22F13DF33CE732EC,
    0x0FA85F4D792B8401, 0x4FC4D6006ECE91F0,
    0x76574F8B5BFD4210, 0x2421DFCF178F7B67,
    0x19FB26501565AC99, 0x168EFE175024DE5B,
    0x1D206B8E1036B29F, 0x01C65E987934D3D4,
    0x0F5BCF611495E50A, 0x530386D13B1DD403,
    0x0CE8E1A77525F2BC, 0x090802BE4E9EFB0D,
    0x3F8B0CBF3266459B, 0x2586D60E37E203AB,
    0x74C936981F3DA4D5, 0x186928D648781401,
    0x3746A5F2047195E5, 0x606ED7F6682DFED6,
    0x7FBD7A3E2D9DF57D, 0x4303A2160490B7C5,
    0x54B5962119B8A08E, 0x29EF532D5992A02E,
    0x52C7740271D601AF, 0x066BE6B92BB5B1C6,
    0x66D385C962234363, 0x5749361F596F6D8A,
    0x280E689773BC6770, 0x2622AD0C605138DE,
    0x18333C8967997556, 0x06D71A2B4BA9831A,
    0x1421971B0CFC7321, 0x116E09071F404301,
    0x076E41D84B683D0D, 0x7906328B71DCE0FD,
    0x766D98C2072BBC16, 0x20E45CA43C09D4A1,
    0x159C74CF4B232EE3, 0x3CF930924AD3AFD2,
    0x768961986863E8D2, 0x4A872C354365174B,
    0x1CD484D55D5CE761, 0x51194ED121D06255,
    0x02219B3344E2ED6C, 0x2C7C62C2773BFBDD,
    0x42E57EF71A54D7BC, 0x27514ADE33537CED,
    0x5293BFEF57071613, 0x226F532038BF53E5,
    0x2A9C34E25A0201C7, 0x612DBDDD1B7585AB,
    0x577F5A4D2109CDA4, 0x6C2CFC8802121A81,
    0x4CE5CA536D1BCF1C, 0x557FB7EE29262D1A,
    0x6C8B4466436F2BEB, 0x20CC134C2006E424,
    0x41D74679095FC93B, 0x4E42B6A871E5621E,
    0x69215DFB43F8E1AC, 0x5E4DB9687ABF196A
};

uint64_t white_queen_keys[64] =
{
    0x2F305DEF5FF87E05, 0x1DBABF0025A70BF7,
    0x1F48EAA14AD084E9, 0x5DB70AE51381823A,
    0x6590700B100F8FCA, 0x5F5E7FD015014ACB,
    0x799D0247098A3148, 0x42C296BD06B94764,
    0x1EBA5D23168E121F, 0x5DC79EA8661E3F1E,
    0x7BD3EE7B540A471C, 0x613EFDC551D9C564,
    0x11447B730BF72B14, 0x0A0382C542963E5A,
    0x1A32234B08F2B15E, 0x68EB2F633B0FD379,
    0x60B6DF704962813B, 0x1433062406A5EE64,
    0x1A27709E7FFFCA11, 0x100F59DC71EA1109,
    0x06EB5BD47FB7E0AA, 0x094211F26F6DD9AC,
    0x7627211000885E1B, 0x1716703B4C04A8AF,
    0x3222E7CD14E17E33, 0x68EBC55074DE0EE3,
    0x46B7D4472DF6D648, 0x39EE015C4A2AC315,
    0x0CC1016F57FC4FBB, 0x60EF011943F18422,
    0x7F01579B26F324BA, 0x7055A5F549DA307D,
    0x50801EE15FB8370B, 0x5FB8011C0488AC1A,
    0x7672BD236AA78F7F, 0x6A5F70296FC75AF8,
    0x5F3534A47D5E18F8, 0x7DE6771373A1821B,
    0x3FA62ACA555C55B5, 0x6A3DD3E814FCE74E,
    0x09DAF63271C91298, 0x1FBFE8E053299938,
    0x1D545C4D5092CA79, 0x288F1A3459ADEA3D,
    0x1D9F6E5F2A155DBC, 0x51088277097E1B4E,
    0x53584BCB1CA0C5FA, 0x7C58FD05415E286C,
    0x45E6D48623D86AAC, 0x0E7FFA2B5C10FE21,
    0x4BD8591A3C5991AA, 0x39B7AAA278DF6A55,
    0x6C80EC702B0D8DBE, 0x0069E373379E21B5,
    0x4C9B09042C27173B, 0x1DF029D36AA7B75C,
    0x3DD150945675FF36, 0x2708C9AF3DB012B3,
    0x175DFCF05B25ACE2, 0x053B0A9E4F97E3E4,
    0x5915FF3234FD6B4F, 0x519E314956438D15,
    0x17A1B5822C6E4AFD, 0x5046B5A94DF72E4E
};

uint64_t white_rook_keys[64] =
{
    0x777A4EAA4695AE95, 0x46BA8FCA3F48B982,
    0x665ACA497835626C, 0x4C187C906835B2AE,
    0x7F65FD16541F28CD, 0x298A92BA77C9FD68,
    0x4B697C7A6FE95EAC, 0x613183F251A27AA6,
    0x65BF9DA8634102B4, 0x4D5C489921A2ECCA,
    0x155EC4C23C3B72B2, 0x6EBB1F2A65D2A137,
    0x550B88086FBF29CB, 0x4E55626134CC3ACF,
    0x52A311C34C672FC9, 0x12FCDE5E44EF6B80,
    0x043825034A1D606E, 0x4252C2DA59B76E28,
    0x41ED20D76A92EF4C, 0x3EB218190E6B3F6A,
    0x06353CD241531DED, 0x313C7C99683CAAD3,
    0x39DF2579519EB94C, 0x34DFBC00126E008B,
    0x3410ED561F9EC322, 0x5BDA35D4023C049A,
    0x680EA5D1496FB218, 0x392EDBE44A9554FE,
    0x7F618FCD3D1A2DD9, 0x09815DA307843E45,
    0x4C73A9C65204A191, 0x1C2201FF1C7E3C01,
    0x7635AA2A50ABCEC9, 0x3B3EBE155E74C4D9,
    0x6CE004433822CB01, 0x7975E8EE79F0D62F,
    0x622D810273154115, 0x44B3FA612AB26587,
    0x3D2066131C0CA67C, 0x3BAB699E7993B662,
    0x7BCFBAFC71315369, 0x3AA1058117859F72,
    0x621AF47163DE60CD, 0x20F88EA673CFE165,
    0x7B541FAB617C843E, 0x338125CF2A79EC49,
    0x46F8284B47C7C971, 0x1873983A4FA327CE,
    0x2E17ECA73D2DD275, 0x75509D7653B2564F,
    0x4DA32C7E1AF7F0EA, 0x0E0D31FF6EC68664,
    0x1978EBEB2FD0AD81, 0x4BDD53FD52C12C61,
    0x4C54E2C3569951FE, 0x47CAA5670788BD9B,
    0x1F0E5D0D48249DBF, 0x2C02FE8C026BAAE9,
    0x763B8C4E0129517E, 0x62A5D5BD4CFB8D32,
    0x7775797C718FABF9, 0x3957756A1626FB8C,
    0x65CA235B3E6DA1C7, 0x7B9B743C51CB0DA4
};